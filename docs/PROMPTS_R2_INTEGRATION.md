# Интеграция промтов с R2 Storage

## Функциональность

Система управления промтами для OCR с хранением в R2 Storage.

### Возможности

1. **Промты для типов блоков**
   - Текст (text)
   - Таблица (table)
   - Картинка (image)

2. **Промты для категорий**
   - Автоматическое создание при добавлении категории
   - Индивидуальное редактирование

3. **Хранение на R2**
   - Все промты хранятся в папке `prompts/` на R2
   - Автоматическая синхронизация
   - Fallback на локальные файлы

### UI элементы

#### Типы блоков (в разделе "Блоки и свойства")
- Кнопки ✏️ для редактирования промтов text, table, image

#### Категории
- Кнопка "✏️ Промт" для редактирования промта выбранной категории
- При создании категории автоматически создается промт на R2

### Структура на R2

```
prompts/
  ├── text.txt           # Промт для текста
  ├── table.txt          # Промт для таблиц
  ├── image.txt          # Промт для картинок
  ├── category_Название1.txt
  ├── category_Название2.txt
  └── ...
```

### Использование

1. **Редактирование промта типа:**
   - Нажать ✏️ рядом с нужным типом
   - Отредактировать текст
   - Сохранить

2. **Редактирование промта категории:**
   - Выбрать категорию в списке
   - Нажать "✏️ Промт"
   - Отредактировать текст
   - Сохранить

3. **Применение при OCR:**
   - Промты загружаются из R2 автоматически
   - Если R2 недоступен, используются локальные файлы
   - Для категорий применяется специфичный промт

### Требования

- R2 Storage настроен (см. R2_STORAGE_INTEGRATION.md)
- Переменные окружения в .env

