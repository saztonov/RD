# üîí –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

‚úÖ **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ GitHub**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π `.gitignore` (—Å–µ–∫—Ä–µ—Ç—ã, –ª–æ–≥–∏, –∫–µ—à–∏)
- `.gitattributes` (–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–æ–º–º–∏—Ç–æ–≤)
- `env.example` (—à–∞–±–ª–æ–Ω –±–µ–∑ –∫–ª—é—á–µ–π)
- GitHub Actions security scan
- Pre-commit hooks (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–±–æ—Ä–∫–∞ (`build.py`)
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/saztonov/RD.git
cd RD
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å .env
```bash
# Windows
copy env.example .env

# Linux/Mac
cp env.example .env

# –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Å–≤–æ–∏–º–∏ –∫–ª—é—á–∞–º–∏ (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install -r requirements.txt
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å pre-commit hooks (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**Windows:**
```powershell
.\setup-git-hooks.ps1
```

**Linux/Mac:**
```bash
chmod +x setup-git-hooks.sh
./setup-git-hooks.sh
```

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**
```bash
pip install pre-commit
pre-commit install
```

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ï—Å–ª–∏ —É–∂–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–ª–∏ —Å—Ç–∞—Ä—ã–µ —Å–±–æ—Ä–∫–∏

–ï—Å–ª–∏ —Å—Ç–∞—Ä—ã–π `CoreStructure.exe` —Å –≤–Ω–µ–¥—Ä–µ–Ω–Ω—ã–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏ —É–∂–µ –±—ã–ª –≤—ã–ø—É—â–µ–Ω:

### 1. –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π (–°–†–û–ß–ù–û!)
- [ ] OpenRouter: https://openrouter.ai/keys ‚Üí Generate new key
- [ ] Datalab: https://www.datalab.to/settings ‚Üí Regenerate key
- [ ] Supabase: Project Settings ‚Üí API ‚Üí Rotate anon key
- [ ] R2: Cloudflare ‚Üí R2 ‚Üí Manage API Tokens ‚Üí Create new
- [ ] REMOTE_OCR_API_KEY: —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π UUID

### 2. –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
```bash
# –û–±–Ω–æ–≤–∏—Ç—å .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –Ω–æ–≤—ã–º–∏ –∫–ª—é—á–∞–º–∏
nano .env

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker compose restart
```

### 3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–ª–∏–µ–Ω—Ç
```bash
# –ù–æ–≤—ã–π build.py –Ω–µ –≤–Ω–µ–¥—Ä—è–µ—Ç —Å–µ–∫—Ä–µ—Ç—ã!
python build.py

# –°–æ–∑–¥–∞—Ç—å .env —Ä—è–¥–æ–º —Å exe
echo "REMOTE_OCR_BASE_URL=https://ocr.fvds.ru" > dist/.env
echo "REMOTE_OCR_API_KEY=–Ω–æ–≤—ã–π_–∫–ª—é—á" >> dist/.env
```

### 4. –£–≤–µ–¥–æ–º–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!

1. –°–∫–∞—á–∞–π—Ç–µ –Ω–æ–≤—ã–π CoreStructure.exe
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env —Ä—è–¥–æ–º —Å exe:

REMOTE_OCR_BASE_URL=https://ocr.fvds.ru
REMOTE_OCR_API_KEY=<–ø–æ–ª—É—á–∏—Ç–µ_—É_–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞>

–°—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ [–¥–∞—Ç–∞].
```

## üìã –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω pre-commit):
- ‚úì API –∫–ª—é—á–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã (GitLeaks, detect-secrets)
- ‚úì .env —Ñ–∞–π–ª—ã –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è
- ‚úì –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ SSH/GPG –∫–ª—é—á–∏
- ‚úì –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (>500KB)
- ‚úì Merge –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
- ‚úì Python —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- ‚úì –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (Black, isort, flake8)

### –ù–∞ GitHub (–ø—Ä–∏ push):
- ‚úì TruffleHog secrets scan
- ‚úì GitLeaks secrets scan
- ‚úì Dependency vulnerabilities (pip-audit, safety)

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤

### –ß—Ç–æ –ù–ï–õ–¨–ó–Ø –∫–æ–º–º–∏—Ç–∏—Ç—å:
```
‚ùå .env —Ñ–∞–π–ª—ã
‚ùå API –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ
‚ùå –ü–∞—Ä–æ–ª–∏ –∏ credentials
‚ùå SSH/GPG –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏
‚ùå JWT —Ç–æ–∫–µ–Ω—ã
‚ùå –õ–æ–≥–∏ —Å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
‚ùå Database dumps
‚ùå Compiled binaries —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏
```

### –ß—Ç–æ –ú–û–ñ–ù–û:
```
‚úÖ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ Python
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚úÖ env.example (—à–∞–±–ª–æ–Ω)
‚úÖ –°—Ö–µ–º–∞ –ë–î (–±–µ–∑ –¥–∞–Ω–Ω—ã—Ö)
‚úÖ Docker –∫–æ–Ω—Ñ–∏–≥–∏
‚úÖ –¢–µ—Å—Ç—ã (–±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π)
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **`SECURITY.md`** - –ø–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **`SECURITY_AUDIT.md`** - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç
- **`FINAL_SECURITY_REPORT.md`** - –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
- **`PRE_COMMIT_SETUP.md`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ hooks
- **`env.example`** - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## ‚úÖ Checklist –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

- [ ] –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –°–æ–∑–¥–∞–ª `.env` –∏–∑ `env.example`
- [ ] –ó–∞–ø–æ–ª–Ω–∏–ª —Å–≤–æ–∏ API –∫–ª—é—á–∏ –≤ `.env`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª pre-commit hooks (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ `.env` –≤ `.gitignore`
- [ ] –ù–µ —Ö—Ä–∞–Ω—é —Å–µ–∫—Ä–µ—Ç—ã –≤ –∫–æ–¥–µ
- [ ] –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—è—é staged —Ñ–∞–π–ª—ã

## üéØ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é
git diff | grep -i "api.key\|secret\|password"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ .env –Ω–µ –≤ git
git ls-files | grep .env

# –ó–∞–ø—É—Å–∫ pre-commit hooks –≤—Ä—É—á–Ω—É—é
pre-commit run --all-files

# –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
pre-commit run gitleaks --all-files
pre-commit run detect-secrets --all-files
```

## üÜò –ü–æ–º–æ—â—å

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å–º–æ—Ç—Ä–∏—Ç–µ:
- `PRE_COMMIT_SETUP.md` - –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ hooks
- `SECURITY_AUDIT.md` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- GitHub Issues - –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∑–∞—â–∏—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-03
